<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentaci√≥n - M√≥dulo de Terceros</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .header .version {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            display: inline-block;
            font-size: 0.9em;
            font-weight: 600;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }

        .card h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card h3 {
            color: #34495e;
            font-size: 1.3em;
            margin: 25px 0 15px 0;
            padding-bottom: 8px;
            border-bottom: 2px solid #ecf0f1;
        }

        .icon {
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .feature-list {
            list-style: none;
            margin: 15px 0;
        }

        .feature-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #555;
        }

        .feature-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #27ae60;
            font-weight: bold;
        }

        .field-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .field-table th {
            background: linear-gradient(45deg, #34495e, #2c3e50);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .field-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
        }

        .field-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .field-table tr:hover {
            background: #e3f2fd;
        }

        .required {
            color: #e74c3c;
            font-weight: bold;
        }

        .optional {
            color: #95a5a6;
        }

        .endpoint-card {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 10px 10px 0;
        }

        .endpoint-card .method {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 10px;
        }

        .method.get { background: #27ae60; color: white; }
        .method.post { background: #3498db; color: white; }
        .method.put { background: #f39c12; color: white; }
        .method.delete { background: #e74c3c; color: white; }

        .full-width {
            grid-column: 1 / -1;
        }

        .highlight-box {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .highlight-box h3 {
            color: white;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            margin-bottom: 15px;
        }

        .business-rules {
            background: linear-gradient(45deg, #fd79a8, #e84393);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .business-rules h3 {
            color: white;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìã M√≥dulo de Terceros</h1>
            <p class="subtitle">Sistema Integral de Gesti√≥n de Clientes, Proveedores y Empleados</p>
            <span class="version">Versi√≥n 2.0 - Actualizada</span>
        </div>

        <div class="content-grid">
            <div class="card">
                <h2><span class="icon">üë•</span>Informaci√≥n General</h2>
                <p>El m√≥dulo de <strong>Terceros</strong> es el n√∫cleo central para la gesti√≥n de todas las personas naturales y jur√≠dicas que interact√∫an con su empresa. Este m√≥dulo permite registrar, organizar y administrar la informaci√≥n de clientes, proveedores y empleados de manera integral.</p>
                
                <h3>Caracter√≠sticas Principales</h3>
                <ul class="feature-list">
                    <li>Registro unificado de clientes, proveedores y empleados</li>
                    <li>Validaci√≥n autom√°tica de NIT y d√≠gito verificador</li>
                    <li>Gesti√≥n de informaci√≥n fiscal y tributaria</li>
                    <li>Integraci√≥n con listas de precios personalizadas</li>
                    <li>Control de duplicados por empresa</li>
                    <li>Auditor√≠a completa de cambios</li>
                </ul>
            </div>

            <div class="card">
                <h2><span class="icon">üè¢</span>Funcionalidades del Sistema</h2>
                
                <div class="highlight-box">
                    <h3>üéØ Gestionar Terceros</h3>
                    <p>Funcionalidad principal que permite crear, editar, consultar y eliminar terceros. Incluye validaciones de negocio y control de integridad referencial.</p>
                </div>

                <div class="highlight-box">
                    <h3>üìä Auxiliar de Terceros</h3>
                    <p>Reporte detallado que muestra todos los movimientos contables asociados a un tercero espec√≠fico, con filtros por fechas y cuentas contables.</p>
                </div>

                <div class="highlight-box">
                    <h3>üîí Estado de Cuenta (Clientes)</h3>
                    <p>Consulta especializada para revisar el estado de cartera de clientes, mostrando facturas pendientes, pagos aplicados y saldos por cobrar.</p>
                </div>
            </div>

            <div class="card full-width">
                <h2><span class="icon">üìù</span>Estructura de Datos del Tercero</h2>
                <table class="field-table">
                    <thead>
                        <tr>
                            <th>Campo</th>
                            <th>Tipo</th>
                            <th>Requerido</th>
                            <th>Descripci√≥n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>nit</strong></td>
                            <td>String(20)</td>
                            <td><span class="required">S√≠</span></td>
                            <td>N√∫mero de identificaci√≥n tributaria √∫nico por empresa</td>
                        </tr>
                        <tr>
                            <td><strong>dv</strong></td>
                            <td>String(1)</td>
                            <td><span class="optional">No</span></td>
                            <td>D√≠gito verificador del NIT</td>
                        </tr>
                        <tr>
                            <td><strong>razon_social</strong></td>
                            <td>String(255)</td>
                            <td><span class="required">S√≠</span></td>
                            <td>Nombre o raz√≥n social oficial del tercero</td>
                        </tr>
                        <tr>
                            <td><strong>nombre_comercial</strong></td>
                            <td>String(255)</td>
                            <td><span class="optional">No</span></td>
                            <td>Nombre comercial o marca del tercero</td>
                        </tr>
                        <tr>
                            <td><strong>es_cliente</strong></td>
                            <td>Boolean</td>
                            <td><span class="optional">No</span></td>
                            <td>Indica si el tercero es cliente de la empresa</td>
                        </tr>
                        <tr>
                            <td><strong>es_proveedor</strong></td>
                            <td>Boolean</td>
                            <td><span class="optional">No</span></td>
                            <td>Indica si el tercero es proveedor de la empresa</td>
                        </tr>
                        <tr>
                            <td><strong>es_empleado</strong></td>
                            <td>Boolean</td>
                            <td><span class="optional">No</span></td>
                            <td>Indica si el tercero es empleado de la empresa</td>
                        </tr>
                        <tr>
                            <td><strong>responsabilidad_fiscal</strong></td>
                            <td>String(100)</td>
                            <td><span class="optional">No</span></td>
                            <td>Tipo de responsabilidad fiscal (IVA, Retefte, etc.)</td>
                        </tr>
                        <tr>
                            <td><strong>direccion</strong></td>
                            <td>String(255)</td>
                            <td><span class="optional">No</span></td>
                            <td>Direcci√≥n f√≠sica del tercero</td>
                        </tr>
                        <tr>
                            <td><strong>ciudad</strong></td>
                            <td>String(100)</td>
                            <td><span class="optional">No</span></td>
                            <td>Ciudad de residencia o ubicaci√≥n</td>
                        </tr>
                        <tr>
                            <td><strong>telefono</strong></td>
                            <td>String(50)</td>
                            <td><span class="optional">No</span></td>
                            <td>N√∫mero de tel√©fono de contacto</td>
                        </tr>
                        <tr>
                            <td><strong>email</strong></td>
                            <td>String(255)</td>
                            <td><span class="optional">No</span></td>
                            <td>Correo electr√≥nico de contacto</td>
                        </tr>
                        <tr>
                            <td><strong>actividad_economica_ciiu</strong></td>
                            <td>String(10)</td>
                            <td><span class="optional">No</span></td>
                            <td>C√≥digo CIIU de la actividad econ√≥mica</td>
                        </tr>
                        <tr>
                            <td><strong>es_regimen_simple</strong></td>
                            <td>Boolean</td>
                            <td><span class="optional">No</span></td>
                            <td>Indica si pertenece al r√©gimen simple de tributaci√≥n</td>
                        </tr>
                        <tr>
                            <td><strong>lista_precio_id</strong></td>
                            <td>Integer</td>
                            <td><span class="optional">No</span></td>
                            <td>Referencia a la lista de precios asignada al tercero</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h2><span class="icon">üîÑ</span>Operaciones Disponibles</h2>
                
                <div class="endpoint-card">
                    <span class="method post">POST</span>
                    <strong>/terceros/</strong>
                    <p>Crear un nuevo tercero con validaci√≥n de NIT √∫nico por empresa</p>
                </div>

                <div class="endpoint-card">
                    <span class="method get">GET</span>
                    <strong>/terceros/</strong>
                    <p>Listar terceros con filtros opcionales y paginaci√≥n</p>
                </div>

                <div class="endpoint-card">
                    <span class="method get">GET</span>
                    <strong>/terceros/{id}</strong>
                    <p>Consultar un tercero espec√≠fico por ID</p>
                </div>

                <div class="endpoint-card">
                    <span class="method put">PUT</span>
                    <strong>/terceros/{id}</strong>
                    <p>Actualizar informaci√≥n de un tercero existente</p>
                </div>

                <div class="endpoint-card">
                    <span class="method delete">DELETE</span>
                    <strong>/terceros/{id}</strong>
                    <p>Eliminar tercero (con validaci√≥n de dependencias)</p>
                </div>

                <div class="endpoint-card">
                    <span class="method get">GET</span>
                    <strong>/terceros/check-name/</strong>
                    <p>Verificar si existe un tercero con una raz√≥n social espec√≠fica</p>
                </div>

                <div class="endpoint-card">
                    <span class="method get">GET</span>
                    <strong>/terceros/{id}/cuentas</strong>
                    <p>Obtener cuentas contables asociadas a un tercero</p>
                </div>

                <div class="endpoint-card">
                    <span class="method post">POST</span>
                    <strong>/terceros/fusionar</strong>
                    <p>Fusionar dos terceros, transfiriendo documentos del origen al destino</p>
                </div>
            </div>

            <div class="card">
                <h2><span class="icon">üìà</span>Funcionalidades Avanzadas</h2>
                
                <h3>üîÑ Auxiliar de Cartera</h3>
                <ul class="feature-list">
                    <li>Consulta de facturas pendientes por cliente</li>
                    <li>Seguimiento de pagos aplicados autom√°ticamente</li>
                    <li>C√°lculo de saldos por cobrar en tiempo real</li>
                    <li>Soporte para unidades de propiedad horizontal</li>
                </ul>

                <h3>üè™ Estado de Cuenta (Proveedores)</h3>
                <ul class="feature-list">
                    <li>Gesti√≥n de cuentas por pagar</li>
                    <li>Seguimiento de facturas de compra</li>
                    <li>Control de pagos a proveedores</li>
                    <li>Reportes de antig√ºedad de cartera</li>
                </ul>

                <h3>üë• Auxiliar de Proveedores</h3>
                <ul class="feature-list">
                    <li>Listado detallado de movimientos por proveedor</li>
                    <li>Filtros por fechas y tipos de documento</li>
                    <li>Exportaci√≥n de reportes en m√∫ltiples formatos</li>
                    <li>Integraci√≥n con m√≥dulo de compras</li>
                </ul>
            </div>

            <div class="card full-width">
                <div class="business-rules">
                    <h2><span class="icon">‚öñÔ∏è</span>Reglas de Negocio Importantes</h2>
                    
                    <h3>üîí Validaciones de Integridad</h3>
                    <ul class="feature-list">
                        <li><strong>NIT √önico:</strong> No se permite duplicar NITs dentro de la misma empresa</li>
                        <li><strong>Dependencias:</strong> No se puede eliminar un tercero que tenga documentos contables asociados</li>
                        <li><strong>Plantillas:</strong> Los terceros vinculados a plantillas de documentos no pueden eliminarse</li>
                        <li><strong>Lista de Precios:</strong> Solo se pueden asignar listas de precios que pertenezcan a la misma empresa</li>
                    </ul>

                    <h3>üîÑ Rec√°lculo Autom√°tico de Cartera</h3>
                    <ul class="feature-list">
                        <li><strong>FIFO:</strong> Los pagos se aplican autom√°ticamente a las facturas m√°s antiguas</li>
                        <li><strong>Propiedad Horizontal:</strong> Prioridad de aplicaci√≥n por unidad espec√≠fica</li>
                        <li><strong>Clasificaci√≥n Inteligente:</strong> Distinci√≥n autom√°tica entre facturas y pagos seg√∫n impacto contable</li>
                        <li><strong>Tiempo Real:</strong> Actualizaci√≥n inmediata de saldos al crear o modificar documentos</li>
                    </ul>

                    <h3>üè¢ Multiempresa</h3>
                    <ul class="feature-list">
                        <li><strong>Aislamiento:</strong> Cada empresa mantiene su propio cat√°logo de terceros</li>
                        <li><strong>Seguridad:</strong> Los usuarios solo pueden acceder a terceros de su empresa asignada</li>
                        <li><strong>Auditor√≠a:</strong> Registro completo de qui√©n crea y modifica cada tercero</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h2><span class="icon">üîß</span>Integraci√≥n con Otros M√≥dulos</h2>
                
                <h3>üìÑ Documentos Contables</h3>
                <p>Los terceros son el beneficiario principal de todos los documentos contables (facturas, recibos, notas, etc.)</p>

                <h3>üìã Plantillas</h3>
                <p>Las plantillas de documentos pueden sugerir terceros espec√≠ficos para agilizar la captura</p>

                <h3>üí∞ Cartera y CxP</h3>
                <p>Integraci√≥n completa con los m√≥dulos de cartera para el seguimiento autom√°tico de cuentas por cobrar y pagar</p>

                <h3>üè† Propiedad Horizontal</h3>
                <p>Soporte especializado para administraci√≥n de conjuntos residenciales con manejo por unidades</p>

                <h3>üíº N√≥mina</h3>
                <p>Los terceros marcados como empleados se integran con el m√≥dulo de n√≥mina para el pago de salarios</p>
            </div>

            <div class="card">
                <h2><span class="icon">üìä</span>Reportes y Consultas</h2>
                
                <h3>üìà Reportes Disponibles</h3>
                <ul class="feature-list">
                    <li><strong>Auxiliar de Terceros:</strong> Movimientos detallados por tercero</li>
                    <li><strong>Estado de Cuenta Clientes:</strong> Cartera por cobrar con antig√ºedad</li>
                    <li><strong>Estado de Cuenta Proveedores:</strong> Cuentas por pagar pendientes</li>
                    <li><strong>Listado Maestro:</strong> Cat√°logo completo de terceros con filtros</li>
                    <li><strong>An√°lisis de Cartera:</strong> Indicadores de gesti√≥n y cobranza</li>
                </ul>

                <h3>üîç Funciones de B√∫squeda</h3>
                <ul class="feature-list">
                    <li>B√∫squeda por NIT, raz√≥n social o nombre comercial</li>
                    <li>Filtros por tipo (cliente, proveedor, empleado)</li>
                    <li>B√∫squeda por ciudad o regi√≥n</li>
                    <li>Filtros por responsabilidad fiscal</li>
                </ul>
            </div>
        </div>

        <div class="card full-width">
            <h2><span class="icon">üéØ</span>Casos de Uso Principales</h2>
            
            <div class="content-grid">
                <div>
                    <h3>üë§ Registro de Cliente Nuevo</h3>
                    <ol class="feature-list">
                        <li>Verificar que el NIT no exista en la empresa</li>
                        <li>Capturar informaci√≥n b√°sica y fiscal</li>
                        <li>Asignar lista de precios si corresponde</li>
                        <li>Marcar como cliente activo</li>
                        <li>Guardar con auditor√≠a de usuario</li>
                    </ol>
                </div>
                
                <div>
                    <h3>üè™ Gesti√≥n de Proveedores</h3>
                    <ol class="feature-list">
                        <li>Registrar datos del proveedor</li>
                        <li>Configurar informaci√≥n tributaria</li>
                        <li>Establecer condiciones comerciales</li>
                        <li>Vincular con cuentas contables</li>
                        <li>Activar para compras</li>
                    </ol>
                </div>
                
                <div>
                    <h3>üí∞ Consulta de Cartera</h3>
                    <ol class="feature-list">
                        <li>Seleccionar cliente espec√≠fico</li>
                        <li>Revisar facturas pendientes</li>
                        <li>Verificar pagos aplicados</li>
                        <li>Calcular saldo actual</li>
                        <li>Generar estado de cuenta</li>
                    </ol>
                </div>
                
                <div>
                    <h3>üîÑ Fusi√≥n de Terceros</h3>
                    <ol class="feature-list">
                        <li>Identificar terceros duplicados</li>
                        <li>Seleccionar tercero destino</li>
                        <li>Transferir documentos asociados</li>
                        <li>Eliminar tercero origen</li>
                        <li>Recalcular cartera autom√°ticamente</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</body>
</html>